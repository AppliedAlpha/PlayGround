<!DOCTYPE html>
<html lang="en">
<%- include("../header"); %>
<body>
  <%- include("../menu"); %>
  <%- include("../footer"); %>
<form id="updateForm">

  <!-- Material input -->
<div class="md-form">
  <input type="text" id="director" class="form-control" value="<%= result.director %>" required />
  <label for="director">Input Director</label>
</div>

<div class="md-form">
  <input type="text" id="title" class="form-control" value="<%= result.title %>" required />
  <label for="title">Input Title</label>
</div>

<div class="md-form">
  <input type="text" id="year" class="form-control" value="<%= result.year %>" required />
  <label for="year">Input Year</label>
</div>

<button type="submit" class="btn btn-cyan btn-md"
          
          >Save</button>
</form>
<script>
  $(function () {
    $("#updateForm").submit((event) => {
      event.preventDefault();
      // Submit
      const director = $("#director").val();
      const title = $("#title").val();
      const year = $("#year").val();
      console.log(director, title, year);
      // alert(Okay);

      $.ajax({
        url: "/api/movie/<%= result._id %>",
        type: "PUT",
        data: { director, title, year }
      }).done(() => {
        location.href = "/api/movie/<%= result._id %>";
      }).fail((request, status, error) => {
        alert(request.responseText);
      })
    });
  });
</script>
</body>
</html>